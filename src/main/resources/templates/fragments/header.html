<header th:fragment="header" class="header">
  <nav class="h_navbar">
    <div class="h_logo">
      <a href="/"><img th:src="@{/image/header/h_logo.png}" alt="์ด๋ฏธ์ง"></a>
    </div>
    <ul class="h_nav-links">
      <li><a href="/acm/list">Hotel</a></li>
      <li>
        <a href="/board/notice">Board</a>
        <ul>
          <li><a href="/board/notice">๊ณต์ง์ฌํญ</a></li>
          <li><a href="/board/FAQ">FAQ</a></li>
          <li><a href="/board/ask">1:1 ๋ฌธ์</a></li>
        </ul>
      </li>
      <li>
        <a href="/reservations/current">Reservations</a>
        <ul>
          <li><a href="/reservations/current">ํ์ฌ ์์ฝ</a></li>
          <li><a href="/reservations/past">์ด์ ์์ฝ</a></li>
        </ul>
      </li>
    </ul>

    <div class="h_nav-buttons">
      <!-- โ ๋ก๊ทธ์ธํ ๊ฒฝ์ฐ -->
      <div th:if="${#authorization.expression('isAuthenticated()')}">
        <span class="welcome-message" th:text="|${#authentication.principal.memberName}๋ ํ์ํฉ๋๋ค!|">์ฌ์ฉ์๋ช</span>
        <a href="/cart" class="cart-icon">
          ๐ <span class="cart-count" th:text="${session.cartCount != null ? session.cartCount : 0}"></span>
        </a>
        <button class="h_my-page-btn">
          <button class="login-btn" onclick="location.href='/member/mypage'">๋ง์ดํ์ด์ง</button>
        </button>
        <form th:action="@{/auth/logout}" method="post" style="display:inline;">
          <th:block th:if="${_csrf != null}">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
          </th:block>
          <button type="submit" class="logout-btn">๋ก๊ทธ์์</button>
        </form>
      </div>

      <!-- โ ๋น๋ก๊ทธ์ธ ์ํ -->
      <div th:if="${#authorization.expression('isAnonymous()') }">
        <button class="login-btn" onclick="location.href='/auth/login'">๋ก๊ทธ์ธ</button>
      </div>
    </div>
  </nav>
</header>
